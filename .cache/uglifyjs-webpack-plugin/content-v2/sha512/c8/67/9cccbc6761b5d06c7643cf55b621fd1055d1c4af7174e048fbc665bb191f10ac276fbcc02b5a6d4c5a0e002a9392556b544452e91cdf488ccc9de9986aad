{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{\"399\":function(e,t,n){},\"400\":function(e,t,n){},\"87\":function(e,t,n){\"use strict\";n.r(t);var o=n(0),i=n(128),a=n(1),l=n(422),c=(n(399),n(96),n(426)),s=n(424),r=n(105),u=(n(400),n(212)),m=n.n(u),p=n(213),d=n.n(p),f=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();var y=function(e){function TypeList(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,TypeList);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(TypeList.__proto__||Object.getPrototypeOf(TypeList)).call(this,e));return t.handleClickGood=function(e){e.itemId?\"android\"===window.sessionStorage.getItem(\"system\")?click.toGoodsDetail(e.itemId):window.webkit.messageHandlers.toGoodsDetail.postMessage(e.itemId):Object(c.d)({\"title\":\"参数出现null\",\"icon\":\"none\"})},t.state={},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(TypeList,a[\"a\"].Component),f(TypeList,[{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"render\",\"value\":function render(){var e=this;return o.l.createElement(l.a,{\"className\":\"type-list\"},o.l.createElement(l.a,{\"className\":\"type-list-title\"},o.l.createElement(\"img\",{\"src\":this.props.titleImage})),o.l.createElement(l.a,{\"className\":\"type-good-list\"},this.props.goodsList.map(function(t){return o.l.createElement(l.a,{\"className\":\"list-item\",\"key\":t.itemId},o.l.createElement(l.a,{\"onClick\":e.handleClickGood.bind(e,t)},o.l.createElement(\"img\",{\"className\":\"item-good-img\",\"src\":t.image}),0==t.stockNum?o.l.createElement(s.a,{\"className\":\"none-img\",\"src\":d.a}):\"\",o.l.createElement(l.a,{\"className\":\"item-good-name\",\"style\":{\"display\":\"-webkit-box\",\"-webkit-box-orient\":\"vertical\",\"-webkit-line-clamp\":2,\"overflow\":\"hidden\"}},t.itemName),null!==t.discountPrice?o.l.createElement(l.a,{\"className\":\"border\"},o.l.createElement(l.a,{\"className\":\"box\"},\"秒杀价\"),o.l.createElement(l.a,{\"className\":\"item-good-price\"},o.l.createElement(l.a,{\"className\":\"good-discountPrice\"},\"￥\",o.l.createElement(r.a,null,t.discountPrice)),o.l.createElement(l.a,{\"className\":\"good-price-txt\"},\"原价￥\",t.price))):o.l.createElement(l.a,{\"className\":\"item-good-price\"},o.l.createElement(l.a,{\"className\":\"good-discountPrice\"},\"￥ \",t.price)),o.l.createElement(s.a,{\"className\":\"btn\",\"src\":m.a})))})))}}]),TypeList}();y.defaultProps={\"goodsList\":[]};var v=y,g=n(93),b=n(94),h=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),E=function get(e,t,n){null===e&&(e=Function.prototype);var o=Object.getOwnPropertyDescriptor(e,t);if(void 0===o){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,n)}if(\"value\"in o)return o.value;var a=o.get;return void 0!==a?a.call(n):void 0};var N=function(e){function Activity3(e){!function activity3_classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Activity3);var t=function activity3_possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(Activity3.__proto__||Object.getPrototypeOf(Activity3)).call(this,e));return t.splitTime=function(e){var n=e,o=[];o[0]=Math.floor(n/864e5),o[1]=Math.floor(n%864e5/36e5),o[2]=Math.floor(n%36e5/6e4),o[3]=Math.floor(n%6e4/1e3),o.forEach(function(e,t){o[t]=e<10?\"0\"+e:\"\"+e});var i=[o[0].substr(0,1),o[0].substr(-1),o[1].substr(0,1),o[1].substr(-1),o[2].substr(0,1),o[2].substr(-1),o[3].substr(0,1),o[3].substr(-1)];t.setState({\"time\":n-1e3,\"differArr\":i})},t.config={\"navigationBarTitleText\":\"月饼限时购\",\"usingComponents\":{}},t.state={\"typeGoodsHeight\":\"\",\"goodsList\":[],\"fistTypeList\":[],\"secondTypeList\":[],\"time\":\"\",\"differArr\":[]},t}return function activity3_inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Activity3,a[\"a\"].Component),h(Activity3,[{\"key\":\"getItemInfoList\",\"value\":function getItemInfoList(){var e=this;Object(g.b)(b.a.itemInfoList,[{\"itemNo\":\"sp20200814108529\"},{\"itemNo\":\"sp20200814108530\"},{\"itemNo\":\"sp20200814108520\"},{\"itemNo\":\"sp20200603102859\"},{\"itemNo\":\"sp20200616103792\"},{\"itemNo\":\"sp20200603102858\"},{\"itemNo\":\"sp20200603102857\"},{\"itemNo\":\"sp20200814108523\"},{\"itemNo\":\"sp20200814108524\"},{\"itemNo\":\"sp20200814108521\"},{\"itemNo\":\"sp20200814108527\"},{\"itemNo\":\"sp20200814108525\"},{\"itemNo\":\"sp20200814108526\"},{\"itemNo\":\"sp20200814108528\"},{\"itemNo\":\"sp20200814108522\"},{\"itemNo\":\"sp20200814108535\"},{\"itemNo\":\"sp20200514100651\"},{\"itemNo\":\"sp20200514100652\"},{\"itemNo\":\"sp20200806107454\"},{\"itemNo\":\"sp20200814108547\"}]).then(function(t){console.log(\"获取规定商品列表成功\",t.data),0===t.data.code&&e.setState({\"goodsList\":t.data.data},function(){Object(i.a)().select(\".type-goods-wrap\").boundingClientRect(function(t){e.setState({\"typeGoodsHeight\":t.height-700})}).exec()})}).catch(function(e){console.log(\"获取规定商品列表失敗\",e)})}},{\"key\":\"getFestiveItemList\",\"value\":function getFestiveItemList(){var e=this;Object(g.b)(b.a.getFestiveItemList,{\"source\":40}).then(function(t){console.log(\"获取规定商品列表成功\",t.data),0===t.data.code&&e.setState({\"fistTypeList\":t.data.data.fistTypeList,\"secondTypeList\":t.data.data.secondTypeList})}).catch(function(e){console.log(\"获取规定商品列表失敗\",e)})}},{\"key\":\"getCountDown\",\"value\":function getCountDown(){var e=this;Object(g.b)(b.a.getCountDown).then(function(t){console.log(\"获取时间差成功\",t.data),0===t.data.code&&(e.setState({\"time\":t.data.data.diffTime,\"one\":22}),e.splitTime(t.data.data.diffTime),setInterval(function(){e.splitTime(e.state.time)},1e3))}).catch(function(e){console.log(\"获取时间差失敗\",e)})}},{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getFestiveItemList(),this.getCountDown()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"render\",\"value\":function render(){var e=this.state,t=e.fistTypeList,n=e.secondTypeList,i=(e.typeGoodsHeight,e.differArr);e.one;return o.l.createElement(l.a,null,o.l.createElement(l.a,{\"id\":\"activity3\"},o.l.createElement(l.a,{\"className\":\"activity3-banner\"},o.l.createElement(\"img\",{\"src\":\"https://iconmall-developer.oss-cn-beijing.aliyuncs.com/png/small/activity3/banner-zhongqiu.jpg\",\"className\":\"banner-img\"}),o.l.createElement(l.a,{\"className\":\"timer\"},o.l.createElement(\"div\",null,i[0]),o.l.createElement(\"div\",null,i[1]),o.l.createElement(\"div\",null,i[2]),o.l.createElement(\"div\",null,i[3]),o.l.createElement(\"div\",null,i[4]),o.l.createElement(\"div\",null,i[5]),o.l.createElement(\"div\",null,i[6]),o.l.createElement(\"div\",null,i[7]))),o.l.createElement(l.a,{\"className\":\"goods-content\"},o.l.createElement(l.a,{\"className\":\"type-goods-wrap\"},o.l.createElement(v,{\"goodsList\":t,\"titleImage\":\"https://iconmall-developer.oss-cn-beijing.aliyuncs.com/png/small/activity3/type-list1-zhongqiu.png\"}),o.l.createElement(v,{\"goodsList\":n,\"titleImage\":\"https://iconmall-developer.oss-cn-beijing.aliyuncs.com/png/small/activity3/type-list2-zhongqiu.png\"})),o.l.createElement(l.a,{\"className\":\"activity-rule\"},o.l.createElement(l.a,{\"className\":\"activity-rule-title\"}),o.l.createElement(l.a,{\"className\":\"activity-rule-img\"})))))}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){E(Activity3.prototype.__proto__||Object.getPrototypeOf(Activity3.prototype),\"componentDidHide\",this)&&E(Activity3.prototype.__proto__||Object.getPrototypeOf(Activity3.prototype),\"componentDidHide\",this).call(this)}}]),Activity3}();t.default=N}}]);","extractedComments":[]}