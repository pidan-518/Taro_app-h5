{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[88],{\"106\":function(e,t,o){\"use strict\";var n=o(0),i=o(1),s=o(421),a=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var r=function(e){function Navigation(){var e,t,o;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Navigation);for(var n=arguments.length,s=Array(n),a=0;a<n;a++)s[a]=arguments[a];return t=o=_possibleConstructorReturn(this,(e=Navigation.__proto__||Object.getPrototypeOf(Navigation)).call.apply(e,[this].concat(s))),o.handleNavigateTo=function(){i.a.navigateTo({\"url\":o.props.url})},o.config={\"navigationBarTitleText\":\"首页\",\"usingComponents\":{}},_possibleConstructorReturn(o,t)}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Navigation,i[\"a\"].Component),a(Navigation,[{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){return n.l.createElement(s.a,{\"className\":\"navigator\",\"onClick\":this.handleNavigateTo},this.props.children)}}]),Navigation}();t.a=r},\"315\":function(e,t,o){},\"38\":function(e,t,o){\"use strict\";o.r(t);var n=o(0),i=o(1),s=o(157),a=o(128),r=o(18),c=o(421),u=o(121),l=o(105),d=(o(315),o(93)),h=o(94),m=o(107),p=o(106),g=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();var y=function(e){function SearchShop(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,SearchShop);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(SearchShop.__proto__||Object.getPrototypeOf(SearchShop)).call(this,e));return t.handleNavigateBack=function(){i.a.navigateBack({\"delta\":1})},t.handleSearchInput=function(e){clearTimeout(t.state.timer),t.setState({\"searchVal\":e.detail.value,\"isShow\":!1}),\"\"!==e.detail.value?t.state.timer=setTimeout(function(){t.searchShopByName(e.detail.value,1)},300):t.setState({\"searchList\":[],\"isShow\":!0,\"visible\":!0})},t.handleSearchInputFocus=function(e){\"\"!==e.detail.value?t.setState({\"isShow\":!1},function(){t.searchShopByName(e.detail.value,1)}):t.setState({\"visible\":!0})},t.handleSearchInputBlur=function(e){setTimeout(function(){t.setState({\"isShow\":!0,\"visible\":!1})},100)},t.handleSearchInputConfirm=function(e){var o=t.state.ShopSearchHistory;o.unshift(t.state.searchVal),t.setState({\"isShow\":!0,\"visible\":!1,\"shopList\":[],\"searchVal\":t.state.searchVal,\"ShopSearchHistory\":t.unique(o)},function(){window.sessionStorage.setItem(\"ShopSearchHistory\",JSON.stringify(t.state.ShopSearchHistory)),t.getSearchShopByName(t.state.searchVal,1)})},t.handleSearchItemClick=function(e){var o=t.state.ShopSearchHistory;o.unshift(e),t.setState({\"isShow\":!0,\"visible\":!1,\"shopList\":[],\"searchVal\":e,\"ShopSearchHistory\":t.unique(o)},function(){window.sessionStorage.setItem(\"ShopSearchHistory\",JSON.stringify(t.state.ShopSearchHistory)),t.getSearchShopByName(e,1)})},t.handleDeleteSearchHistory=function(){t.setState({\"ShopSearchHistory\":[]},function(){window.sessionStorage.removeItem(\"ShopSearchHistory\")})},t.handleSearchHistoryItem=function(e){t.setState({\"shopList\":[],\"searchVal\":e},function(){t.getSearchShopByName(e,1)})},t.searchShopByName=function(e,o){Object(d.b)(h.a.searchShopByName,{\"current\":o,\"len\":10,\"name\":\"\"+e}).then(function(e){console.log(\"搜索店铺成功\",e.data),0===e.data.code&&t.setState({\"searchList\":e.data.data.records})}).catch(function(e){console.log(\"搜索店铺失败\",e)})},t.getSearchShopByName=function(e,o){Object(d.b)(h.a.searchShopByName,{\"current\":o,\"len\":10,\"name\":\"\"+e}).then(function(e){console.log(\"获取店铺列表成功\",e.data),0===e.data.code&&t.setState({\"shopList\":e.data.data.records,\"visible\":!1})}).catch(function(e){console.log(\"获取店铺列表成功\",e)})},t.config={\"navigationBarTitleText\":\"搜索店铺\",\"usingComponents\":{},\"navigationStyle\":\"custom\"},t.state={\"searchVal\":\"\",\"searchList\":[],\"shopList\":[],\"timer\":\"\",\"searchInputHeight\":\"\",\"searchListHeight\":\"\",\"isShow\":!0,\"visible\":!0,\"ShopSearchHistory\":[]},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(SearchShop,i[\"a\"].Component),g(SearchShop,[{\"key\":\"unique\",\"value\":function unique(e){return Array.from(new Set(e))}},{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){var e=Object(s.b)(\"ShopSearchHistory\");\"\"!==e&&this.setState({\"ShopSearchHistory\":JSON.parse(e)})}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){var e=this;Object(a.a)().select(\".search-box\").boundingClientRect(function(t){e.setState({\"searchInputHeight\":t.height},function(){Object(r.a)({\"success\":function success(t){e.setState({\"searchListHeight\":t.screenHeight})}})})}).exec()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){var e=this,t=this.state,s=t.searchVal,a=t.searchInputHeight,r=t.searchListHeight,d=t.isShow,h=t.searchList,g=t.shopList,y=t.ShopSearchHistory,f=t.visible;return n.l.createElement(c.a,null,n.l.createElement(c.a,{\"className\":\"search-box\",\"style\":{\"paddingTop\":i.a.$navBarMarginTop+\"px\"}},n.l.createElement(c.a,{\"className\":\"search-line\"},n.l.createElement(\"img\",{\"onClick\":this.handleNavigateBack,\"className\":\"left-icon\",\"src\":o(130)}),n.l.createElement(c.a,{\"className\":\"search-input\"},n.l.createElement(\"img\",{\"src\":o(135)}),n.l.createElement(u.a,{\"placeholder\":\"搜索你想找的店铺\",\"value\":s,\"onFocus\":this.handleSearchInputFocus,\"onBlur\":this.handleSearchInputBlur,\"onConfirm\":this.handleSearchInputConfirm,\"onInput\":this.handleSearchInput})))),n.l.createElement(c.a,{\"id\":\"search-shop\"},n.l.createElement(c.a,{\"className\":\"search-list\",\"style\":{\"height\":r-a+\"px\",\"display\":d?\"none\":\"block\"}},h.map(function(t){return n.l.createElement(c.a,{\"key\":t.shopId,\"className\":\"search-list-item\",\"onClick\":e.handleSearchItemClick.bind(e,t.name)},t.name)})),n.l.createElement(c.a,{\"className\":\"history-search-wrap\",\"style\":{\"height\":r-a+\"px\",\"display\":f?\"block\":\"none\"}},0===y.length?null:n.l.createElement(c.a,{\"className\":\"history-content\"},n.l.createElement(c.a,{\"className\":\"history-line\"},n.l.createElement(l.a,null,\"搜索历史\"),n.l.createElement(\"img\",{\"onClick\":this.handleDeleteSearchHistory,\"src\":o(213)})),n.l.createElement(c.a,{\"className\":\"history-list\"},y.map(function(t,o){return n.l.createElement(c.a,{\"key\":o+1,\"onClick\":e.handleSearchHistoryItem.bind(e,t),\"className\":\"history-list-item\"},t)})))),n.l.createElement(c.a,{\"className\":\"shop-list\"},0===g.length?n.l.createElement(m.a,{\"content\":\"暂无店铺\"}):g.map(function(e){return n.l.createElement(p.a,{\"url\":\"/pages/shophome/shophome?businessId=\"+e.businessId,\"key\":e.businessId},n.l.createElement(c.a,{\"className\":\"shop-list-item\",\"key\":e.businessId},n.l.createElement(\"img\",{\"src\":e.logoPath}),n.l.createElement(c.a,{\"className\":\"shop-name\"},e.name)))}))))}}]),SearchShop}();t.default=y},\"93\":function(e,t,o){\"use strict\";o.d(t,\"a\",function(){return CarryTokenRequest}),o.d(t,\"b\",function(){return postRequest});var n=o(420),i=o(425),s=o(1),a=o(157);function CarryTokenRequest(e,t){return new Promise(function(o,a){Object(n.a)({\"url\":e,\"method\":\"POST\",\"data\":JSON.stringify(t),\"credentials\":\"include\",\"header\":{\"Content-Type\":\"application/json\",\"JWT-Token\":window.sessionStorage.getItem(\"JWT-Token\")},\"success\":function success(e){e.statusCode>=200&&e.statusCode<300?o(e):a(e)},\"fail\":function fail(e){if(a(e),403===e.status){var t=window.location.hash.indexOf(\"?\");[\"\",\"#/pages/index/index\"].includes(window.location.hash)||\"#/pages/goodsdetails/goodsdetails\"===window.location.hash.slice(0,t)?console.log(\"进入\"):Object(i.d)({\"title\":\"暂未登录\",\"icon\":\"none\",\"duration\":1e3,\"success\":function success(){window.sessionStorage.removeItem(\"JWT-Token\"),window.sessionStorage.removeItem(\"userinfo\"),setTimeout(function(){s.a.navigateTo({\"url\":\"/pages/login/login\"})},1e3)}})}else Object(i.d)({\"title\":\"网络连接失败\",\"icon\":\"none\",\"duration\":1e3,\"success\":function success(){}})}})})}function postRequest(e,t){return new Promise(function(o,i){Object(n.a)({\"url\":e,\"method\":\"POST\",\"data\":JSON.stringify(t),\"header\":{\"Content-Type\":\"application/json; charset=utf-8\",\"JWT-Token\":Object(a.b)(\"JWT-Token\")},\"success\":function success(e){e.statusCode>=200&&e.statusCode<300?o(e):i(e)}})})}},\"94\":function(e,t,o){\"use strict\";var n;function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{\"value\":o,\"enumerable\":!0,\"configurable\":!0,\"writable\":!0}):e[t]=o,e}var i=\"\",s=(_defineProperty(n={\"VerCode\":(i=\"http://192.168.0.181/client-core\")+\"/register/code\",\"checkUserName\":i+\"/register/checkUserName\",\"checkMobile\":i+\"/register/checkMobile\",\"sendSmsCode\":i+\"/register/sendSmsCode\",\"doRegister\":i+\"/register/doRegister\",\"Login\":i+\"/login\",\"Logout\":i+\"/logout\",\"resetPassword\":i+\"/register/resetPassword\",\"getMyRecommondCode\":i+\"/user/getMyRecommondCode\",\"getLatestDownloadUrl\":i+\"/index/getLatestDownloadUrl\",\"wechatLogin\":i+\"/wechatLogin\",\"bindWechat\":i+\"/bindWechat\",\"wechatBindCode\":i+\"/wechatBindCode\",\"sendBindSmsCode\":i+\"/sendBindSmsCode\",\"wechatUnBindCode\":i+\"/user/wechatUnBindCode\",\"sendUnBindSmsCode\":i+\"/user/sendUnBindSmsCode\",\"unBindWechat\":i+\"/user/unBindWechat\",\"homeProducts\":i+\"/index/homeProducts\",\"homePicture\":i+\"/index/homePicture\",\"getNewItemList\":i+\"/index/getNewItemList\",\"hotSearchWord\":i+\"/index/hotSearchWord\",\"suspensionTag\":i+\"/index/suspensionTag\",\"searchItems\":i+\"/index/searchItems\",\"getCustomerServiceAccid\":i+\"/user/getCustomerServiceAccid\",\"getSencondCategory\":i+\"/index/getSencondCategory\",\"getThirdCategory\":i+\"/index/getThirdCategory\",\"getIndexCategoryImg\":i+\"/index/getIndexCategoryImg\",\"shoppingCart\":i+\"/shoppingCart/insert\",\"getCart\":i+\"/shopping/getCart\",\"gotoSettlement\":i+\"/shopping/gotoSettlement\",\"getOrderFee\":i+\"/shopping/getOrderFee\",\"deleteProduction\":i+\"/shoppingCart/delete\",\"submitOrder\":i+\"/shopping/submitOrder\",\"cancelOrder\":i+\"/shopping/cancelOrder\",\"payOrder\":i+\"/shopping/payOrder\",\"getPayOrder\":i+\"/shopping/getPayOrder\",\"getWechatJsAppOpenId\":i+\"/index/getWechatJsAppOpenId\",\"shoppingCartUpdate\":i+\"/shoppingCart/update\",\"afterSaleList\":i+\"/user/afterSale/list\",\"afterSaleUploadImage\":i+\"/user/afterSale/uploadImage\",\"afterSaleApply\":i+\"/user/afterSale/apply\",\"afterSaleDetail\":i+\"/user/afterSale/detail\",\"itemDetailList\":i+\"/item/itemDetailList\",\"regionList\":i+\"/item/regionList\",\"similarProductList\":i+\"/item/similarProductList\",\"recommendByCategory\":i+\"/item/recommendByCategory\",\"searchItemByCategoryCom\":i+\"/item/searchItemByCategoryCom\",\"itemIntroduction\":i+\"/item/itemIntroduction\",\"getCount\":i+\"/shoppingCart/getCount\",\"getShopInfoByBusinessId\":i+\"/shopIndex/getShopInfoByBusinessId\",\"getLogisticsFee\":i+\"/item/getLogisticsFee\",\"getBrandList\":i+\"/item/getBrandList\",\"itemInfoList\":i+\"/item/itemInfoList\",\"getLastShelfUpItems\":i+\"/item/getLastShelfUpItems\",\"getFestiveItemList\":i+\"/festiveItem/getFestiveItemList\",\"getCountDown\":i+\"/festiveItem/getCountDown\",\"getFirstList\":i+\"/itemCategoryCommon/getFirstList\",\"getSubCategoryList\":i+\"/itemCategoryCommon/getSubCategoryList\",\"getListByKey\":i+\"/itemCategoryCommon/getListByKey\",\"getListByTag\":i+\"/itemCategoryCommon/getListByTag\",\"getItemListByComIds\":i+\"/itemCategoryCommon/getItemListByComIds\",\"commodityEvaluate\":i+\"/orderEvaluate/commodityEvaluate\",\"orderEvaluateInsert\":i+\"/orderEvaluate/orderEvaluateInsert\",\"uploadPhoto\":i+\"/orderEvaluate/uploadPhoto\",\"selectOrderEvaluate\":i+\"/orderEvaluate/selectOrderEvaluate\",\"shopPraise\":i+\"/shop/shopPraise\",\"shopInformation\":i+\"/shop/shopInformation\",\"getShopSubCategory\":i+\"/shopIndex/getShopSubCategory\",\"searchShopByName\":i+\"/shop/searchShopByName\",\"getShopGetListByKey\":i+\"/shop/getListByKey\",\"searchShopItems\":i+\"/shop/searchShopItems\",\"getShopIndexList\":i+\"/shopIndex/getShopIndexList\",\"getSingleShopIndexList\":i+\"/shopIndex/getSingleShopIndexList\",\"getQualificationCertInfo\":i+\"/shopIndex/getQualificationCertInfo\",\"getShopInfo\":i+\"/shopIndex/getShopInfo\",\"getUserInfo\":i+\"/user/getUserInfo\",\"saveBaseInfo\":i+\"/user/saveBaseInfo\",\"myMessageList\":i+\"/user/myMessageList\",\"myMessageDetail\":i+\"/user/myMessageDetail\",\"myNotReadMessage\":i+\"/user/myNotReadMessage\",\"setMessageRead\":i+\"/message/read\",\"setMessageReadAll\":i+\"/message/readAll\",\"recommendLikeItems\":i+\"/user/recommendLikeItems\",\"recommendNewItems\":i+\"/user/recommendNewItems\",\"userCenterStatistics\":i+\"/user/userCenterStatistics\",\"uploadUserHeadImage\":i+\"/user/uploadUserHeadImage\",\"upload\":i+\"/realNameAuth/upload\",\"realNameAuthAdd\":i+\"/realNameAuth/add\",\"realNameAuthView\":i+\"/realNameAuth/view\",\"idCardCheck\":i+\"/logisticsAddress/idCardCheck\",\"userAtShopList\":i+\"/userAtShop/list\",\"userAtItemList\":i+\"/userAtItem/list\",\"userAtShopAdd\":i+\"/userAtShop/add\",\"userAtShopRemove\":i+\"/userAtShop/remove\",\"userAtItemAdd\":i+\"/userAtItem/add\",\"userAtItemRemove\":i+\"/userAtItem/remove\",\"isFavorite\":i+\"/userAtShop/isFavorite\",\"userAtItemisFavorite\":i+\"/userAtItem/isFavorite\",\"userAtItemRemoveByIds\":i+\"/userAtItem/removeByIds\",\"userAtShopRemoveByIds\":i+\"/userAtShop/removeByIds\",\"logisticsAddress\":i+\"/logisticsAddress/list\",\"saveOrUpdate\":i+\"/logisticsAddress/saveOrUpdate\",\"setDefault\":i+\"/logisticsAddress/setDefault\",\"logisticsAddressRemove\":i+\"/logisticsAddress/remove\",\"getItemOrderlList\":i+\"/user/itemOrder/list\",\"getItemOrderView\":i+\"/user/itemOrder/view\",\"orderEvaluate\":i+\"/user/itemOrder/orderEvaluate\",\"queryLogisticsTracking\":i+\"/user/itemOrder/queryLogisticsTrackingByPackag\",\"doReceived\":i+\"/user/itemOrder/doReceived\",\"gotoPayOrder\":i+\"/shopping/gotoPayOrder\",\"getOrderPackagingDetail\":i+\"/user/itemOrder/getOrderPackagingDetail\",\"logisticsInfo\":i+\"/logisticsInfo/info\",\"shopVisitSave\":i+\"/shopVisit/save\",\"getShopVisitCount\":i+\"/shopVisit/getShopVisitCount\",\"getTagList\":i+\"/activity/getSingleTagActivities\",\"getActivitiesList\":i+\"/activity/getPanicBuyingActivityList\",\"getActivityItemId\":i+\"/activity/getPanicBuyingItemById\",\"getItemListByKey\":i+\"/activity/getFoundGoodThings\",\"getItemByComIds\":i+\"/activity/getItemCategoryItemByComIds\",\"getCouponList\":i+\"/coupon/couponList\",\"getCouponIndexList\":i+\"/coupon/couponIndexList\",\"getmyCouponList\":i+\"/coupon/myCouponList\",\"saveCouponRecord\":i+\"/coupon/saveCouponRecord\",\"getmyCoupon\":i+\"/coupon/myCoupon\",\"reCalculateFee\":i+\"/shopping/reCalculateFee\",\"getUserCouponList\":i+\"/shopping/getUserCouponList\",\"getMarketingItemList\":i+\"/agentGood/getMarketingItemList\",\"agentGoodDetail\":i+\"/agentGood/detail\",\"msGotoSettlement\":i+\"/marketShopping/gotoSettlement\",\"msSubmitOrder\":i+\"/marketShopping/submitOrder\",\"msPayOrder\":i+\"/marketShopping/payOrder\",\"msGetPayOrder\":i+\"/marketShopping/getPayOrder\",\"updateRecommendCode\":i+\"/user/updateRecommendCode\",\"getShufflyList\":i+\"/index/shufflyList\",\"getSearcChoiceness\":i+\"/index/searcChoiceness\",\"getHotStyleList\":i+\"/index/hotStyleList\",\"getHotClassList\":i+\"/index/hotClassList\"},\"getItemListByComIds\",i+\"/activity/getItemCategoryItemByComIds\"),_defineProperty(n,\"getBrandCategoryList\",i+\"/activity/getBrandCategoryList\"),_defineProperty(n,\"getBrandSessionList\",i+\"/activity/getBrandSessionList\"),_defineProperty(n,\"getItemByBrandId\",i+\"/activity/getItemByBrandId\"),_defineProperty(n,\"getCurrentIndexActivities\",i+\"/activity/getCurrentIndexActivities\"),_defineProperty(n,\"getBrandByIds\",i+\"/activity/getBrandByIds\"),_defineProperty(n,\"getActivityCoupons\",i+\"/coupon/getCoupons\"),n);t.a=s}}]);","extractedComments":[]}