{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{\"106\":function(e,t,o){\"use strict\";var n=o(0),i=o(1),a=o(421),r=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var l=function(e){function Navigation(){var e,t,o;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Navigation);for(var n=arguments.length,a=Array(n),r=0;r<n;r++)a[r]=arguments[r];return t=o=_possibleConstructorReturn(this,(e=Navigation.__proto__||Object.getPrototypeOf(Navigation)).call.apply(e,[this].concat(a))),o.handleNavigateTo=function(){i.a.navigateTo({\"url\":o.props.url})},o.config={\"navigationBarTitleText\":\"首页\",\"usingComponents\":{}},_possibleConstructorReturn(o,t)}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Navigation,i[\"a\"].Component),r(Navigation,[{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){return n.l.createElement(a.a,{\"className\":\"navigator\",\"onClick\":this.handleNavigateTo},this.props.children)}}]),Navigation}();t.a=l},\"107\":function(e,t,o){\"use strict\";var n=o(0),i=o(1),a=o(421),r=(o(111),function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}());var l=function(e){function CommonEmpty(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,CommonEmpty);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(CommonEmpty.__proto__||Object.getPrototypeOf(CommonEmpty)).call(this,e));return t.config={\"navigationBarTitleText\":\"首页\",\"usingComponents\":{}},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CommonEmpty,i[\"a\"].Component),r(CommonEmpty,[{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){return n.l.createElement(a.a,{\"className\":\"empty-box\",\"style\":{\"display\":!1!==this.props.visible?\"\":\"none\"}},n.l.createElement(\"img\",{\"src\":\"https://iconmall-developer.oss-cn-beijing.aliyuncs.com/png/small/empty-icon.png\"}),n.l.createElement(a.a,null,this.props.content))}}]),CommonEmpty}();t.a=l},\"111\":function(e,t,o){},\"217\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAACdklEQVRIS8WWO2gUYRDHZ5bFVhsToxYi2FjqsTML2mkwVqbQKjaCplB8YWMarVNoLDRoFfG00MI0Ilqqx32zezbi2YskGiwE4TrvG9kjd2zudrO790gWloW7mfnNfI//DMI2PViUW6/XdzQajXFVjV51XXe1VCr9LBonN9gYcx4RZwBgEhFXVbUFQ8QJVd0LAM9UtczM7/MkkQk2xlxCxIsA8A0AXhPRclJgEZlW1WlEHEPEsud55c0S2BRsjFl2HGfNWvuEmT/nqcQYcxQAZhFxFxGdS/NJBRtjVgBgnpkf5AF224jIHVWdYeZDSf6JYBH5RUR7+gHGfcIwPNFsNheT4D1gEXkHAE+J6MWg4MjfGHPbcZxxz/Oux+NtAIvIvKruZObZYUDbMUTkg6rOMfOn9m8dsDFmPyL+UNVS3oOUN7lqtTrlOM4FIjqbBI6uzWkiOpM3YBG7IAhWrLVTzPyldf9jy/HKWvvG9/2lIgHz2kanHAD+EtH9brASUaag5AWliEyH0QLVarUJa23N87x9gwTO8hWRjeBIbRDxMRGVspwH+X87wb+JaHdnj7dqqaOT3d7O+Kne+sMVlS4io75Ox1X1SLvpxJVrpAIiIvdUdalHQCqVypjrumsjlMyHRHSwRzLXO8k1ADg8gibxEQDmiCj6tp7EtmitXfB9/+0gdzYmxY8A4B8RXU1tizHjoQ0CqnrX87xj3UWkanMQBN9VdaEt6kWr72v0iVX+EhH/FB321qfSA0R0Ki3hzG4UhuHlZrN5BRGDjPH2BgDcRMSv1trnzNz/eBvPNgzDk6o6qaq3UqoY7kBfdG/z2mcudd5ARe3+A7QUSi6+VmwiAAAAAElFTkSuQmCC\"},\"218\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAADoklEQVRIS7VXXWgcVRg9Z5JuRaQUre7OBhXxQaEvhfoDolL1QdK0BR/ahxah6u5skM7EPviDIMaCgvYh2dkGs9M01iqIiijU9EloqEKpJAhFo+CDBe3ONEUfFLFZMvPJnd1Nk9mfmU2T+zQ/5/vOd+7ce765RBfjd2P04Q3Q9oBMi0gGIoTGeQiuUtPOZcYPfZ00HeOAV42yvoiqAchuANs74QlUROQLEXyYnRiajcG2fv2raW+8ZYGvEWIIkI0rMPqeoMPAH0tPvHSxVWxLxV6udI9o8hmAB7olXI4PZyDwD+gTh6ebC4s8mTfGHvXhf3sjhE2xgf9ElHyF4vkXxzL+ou+uKWkjGbFVL1tz12/rVzNGeUMfq19BZOe6EAMeiKca5EuKXaP0JiDD60QapiVwOuNYe+rXgNoyPhZmVrN6uy2UmrZb7fdQ8bqoJU5SWBWIEVnpoeoG8Y+AbO22+g74o7pjvVITZUsEV71W9dN0cyM7oPWcXStSAuWMYw2qfFeM0hsB5Eg0t4DP0DPstwV4fS2ISXySKVv760pfBvBeG9d6h16hNCEiL9wwscgZ/fjQgMrjFYqmCO12OUmeoGvYqqOEASuGYBrkNCB7AXT8/gJ89/fifzvvn3z1n0rezpNwYoRM0c0Xp0C2MA0O64751uXnR+/TerWPO/j2xd4U+28/ZlbcfHEfyE9jZ0/kDN2C/QEEB5sVy89BwAN9J6wfKsboXUTPR4A8HsFdErA/65i/VHL2Y9RwLpa05h4n1VSrBaAWQvMQVCC17uINvn+HyOIpiDxdB/4FDf36uPX9FcO+1xeZI5lKRAwcpTd4bJcEwem2AYJ/If4uRf6naW9auIZTmoYBP0B/33Hrm4oxfDNxq2osmxKSgsT+0EA8w74ca5f11vbT3uHUltu2DKTHD31Z3zYegHRSUoVLBbiz5lz5og3SjA2O9FXXsC8BuDs2bhmA4PmMYz4SEldyxe3UOJMoQZ3czdsXQDyUKGYZSCCFrDPkLLVFzyiVo4bebdIE+FndscLfqSXiP/Ij23rZc1aAzQkSrAoi5LPZsqk84Tpx+K0LpecgMrmqrLFBNUNqwJr+MtelN2MlaZPiRjVervSkaJgC5KZYIbEA7tMd8/MorO1JYj4/ti2gf0QAdYJYzZgF+G4r0raKl7MoZ0MQqNOEssoEligXBJhUW6ZTtbFnp0bwbwdHNm9M9e7QIA+2OrRBMIcef1ofP6xMJXb8D0WjcmRJ5ItAAAAAAElFTkSuQmCC\"},\"360\":function(e,t,o){},\"52\":function(e,t,o){\"use strict\";o.r(t);var n=o(0),i=o(425),a=o(420),r=o(18),l=o(1),s=o(421),c=o(143),u=o(105),d=o(182),m=o(183),f=(o(129),o(360),o(96),o(94)),p=o(93),h=o(107),g=o(106),y=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var b=function(e){function Favorite(){var e,t,o;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,Favorite);for(var n=arguments.length,r=Array(n),l=0;l<n;l++)r[l]=arguments[l];return t=o=_possibleConstructorReturn(this,(e=Favorite.__proto__||Object.getPrototypeOf(Favorite)).call.apply(e,[this].concat(r))),o.state={\"tabsCurrent\":0,\"scrollViewHeight\":\"\",\"goodsList\":[],\"shopList\":[],\"goodPages\":\"\",\"goodCurrent\":1,\"shopPages\":\"\",\"shopCurrent\":1,\"isShow\":!1,\"editText\":\"编辑\",\"isAllSelect\":!1,\"deleteList\":[]},o.handleAtTabsClick=function(e){o.setState({\"tabsCurrent\":e})},o.handleEditClick=function(){if(o.state.isShow)o.setState({\"editText\":\"编辑\",\"isShow\":!1});else{var e=o.state.goodsList;e.map(function(t){return t.checkd=!1,e}),o.setState({\"editText\":\"完成\",\"isShow\":!0,\"goodsList\":e,\"isAllSelect\":!1,\"deleteList\":[]})}},o.handleCheckboxClick=function(e,t){var n=o.state.goodsList,i=[],a=!0,r=!1,l=void 0;try{for(var s,c=n[Symbol.iterator]();!(a=(s=c.next()).done);a=!0){var u=s.value;u.itemId===e&&(t?(o.setState({\"isAllSelect\":!1}),u.checkd=!1):u.checkd=!0),!0===u.checkd&&i.push(u.itemId)}}catch(e){r=!0,l=e}finally{try{!a&&c.return&&c.return()}finally{if(r)throw l}}o.setState({\"goodsList\":n,\"deleteList\":i},function(){o.state.deleteList.length===n.length&&o.setState({\"isAllSelect\":!0})})},o.handleAllSelectClick=function(){var e=o.state.goodsList,t=[];o.state.isAllSelect?(e.map(function(e){return e.checkd=!1,e}),o.setState({\"isAllSelect\":!1,\"goodsList\":e,\"deleteList\":[]})):(e.map(function(e){return e.checkd=!0,t.push(e.itemId),e}),o.setState({\"isAllSelect\":!0,\"goodsList\":e,\"deleteList\":t}))},o.handleCancelClick=function(){var e=o.state.deleteList;0===e.length?Object(i.c)({\"title\":\"提示\",\"content\":\"请选择一件商品再进行操作哦\",\"showCancel\":!1,\"confirmText\":\"确定\",\"confirmColor\":\"#ff5d8c\"}):Object(i.c)({\"title\":\"提示\",\"content\":\"确定取消收藏选中商品么？\",\"confirmText\":\"确定\",\"confirmColor\":\"#ff5d8c\",\"success\":function success(t){t.confirm&&Object(p.a)(f.a.userAtItemRemoveByIds,{\"itemIdList\":e}).then(function(e){0===e.data.code?(console.log(\"取消收藏成功\",e.data),Object(i.d)({\"title\":\"取消收藏成功\",\"icon\":\"success\",\"duration\":1500,\"success\":function success(e){o.setState({\"goodsList\":[],\"isAllSelect\":!1,\"isShow\":!1,\"editText\":\"编辑\"},function(){o.getUserAtItemList(1)})}})):Object(i.d)({\"title\":\"取消收藏失败\",\"icon\":\"none\",\"duration\":1500})})}})},o.goodsListOnScrollToLower=function(){o.state.goodCurrent===o.state.goodPages?console.log(\"没有更多数据了\"):o.getUserAtItemList(o.state.goodCurrent+1)},o.shopListOnScrollToLower=function(){o.state.shopCurrent===o.state.shopPages?console.log(\"没有更多数据了\"):o.getUserAtItemList(o.state.shopCurrent+1)},o.getUserAtItemList=function(){var e={\"current\":arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,\"len\":10};Object(p.a)(f.a.userAtItemList,e).then(function(e){if(console.log(\"获取收藏商品列表成功\",e.data),0===e.data.code){var t=e.data.data.records.map(function(e){return e.checkd=!1,e});o.setState({\"goodsList\":[].concat(_toConsumableArray(o.state.goodsList),_toConsumableArray(t)),\"goodPages\":e.data.data.pages,\"goodCurrent\":e.data.data.current},function(){console.log(o.state.goodsList)})}}).catch(function(e){console.log(\"接口异常 - 获取商品列表：\",e)})},o.getUserAtShopList=function(){var e={\"current\":arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,\"len\":10};Object(a.a)({\"url\":f.a.userAtShopList,\"method\":\"POST\",\"data\":e,\"header\":{\"Content-Type\":\"application/json; charset=utf-8\",\"JWT-Token\":window.sessionStorage.getItem(\"JWT-Token\")},\"success\":function success(e){console.log(\"获取收藏店铺成功\",e.data),0===e.data.code&&o.setState({\"shopList\":[].concat(_toConsumableArray(o.state.shopList),_toConsumableArray(e.data.data.records)),\"shopPages\":e.data.data.pages,\"shopCurrent\":e.data.data.current})},\"fail\":function fail(e){console.log(\"接口异常 - 获取商店列表：\",e)}})},o.config={\"navigationBarTitleText\":\"我的收藏\",\"usingComponents\":{}},_possibleConstructorReturn(o,t)}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(Favorite,l[\"a\"].Component),y(Favorite,[{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){var e=this;Object(r.a)({}).then(function(t){e.setState({\"scrollViewHeight\":t.windowHeight-44})})}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){var e=this;this.setState({\"shopList\":[],\"goodsList\":[]},function(){e.getUserAtItemList(),e.getUserAtShopList()})}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){var e=this,t=this.state,i=t.scrollViewHeight,a=t.tabsCurrent,r=t.goodsList,l=t.shopList,f=t.editText,p=t.isShow,y=t.isAllSelect;return n.l.createElement(s.a,{\"id\":\"favorite\"},n.l.createElement(d.a,{\"current\":a,\"tabList\":[{\"title\":\"商品\"},{\"title\":\"店铺\"}],\"onClick\":this.handleAtTabsClick.bind(this)},n.l.createElement(m.a,{\"current\":a,\"index\":0},n.l.createElement(c.a,{\"scrollY\":!0,\"style\":{\"height\":i+\"px\"},\"className\":\"scroll-view\",\"onScrollToLower\":this.goodsListOnScrollToLower},0===r.length?null:n.l.createElement(s.a,{\"className\":\"edit-text\"},n.l.createElement(u.a,{\"onClick\":this.handleEditClick},f)),n.l.createElement(s.a,{\"className\":\"tabs-content\"},0===r.length?n.l.createElement(h.a,{\"content\":\"暂无收藏商品\"}):n.l.createElement(s.a,{\"className\":\"good-list\"},r.map(function(t){return n.l.createElement(s.a,{\"className\":\"list-item\",\"key\":t.itemId},n.l.createElement(g.a,{\"url\":\"/pages/goodsdetails/goodsdetails?itemId=\"+t.itemId,\"key\":t.itemId},n.l.createElement(\"img\",{\"className\":\"goods-img\",\"src\":t.image}),n.l.createElement(s.a,{\"className\":\"goods-name\",\"style\":{\"-webkit-box-orient\":\"vertical\"}},t.itemName)),n.l.createElement(s.a,{\"className\":\"check-box\",\"style\":{\"display\":p?\"block\":\"none\"},\"onClick\":e.handleCheckboxClick.bind(e,t.itemId,t.checkd)},n.l.createElement(\"img\",{\"src\":o(217),\"className\":\"check\",\"style\":{\"display\":t.checkd?\"none\":\"block\"}}),n.l.createElement(\"img\",{\"src\":o(218),\"style\":{\"display\":t.checkd?\"block\":\"none\"},\"className\":\"check-ac\"})))}))))),n.l.createElement(m.a,{\"current\":a,\"index\":1},n.l.createElement(c.a,{\"onScrollToLower\":this.shopListOnScrollToLower,\"scrollY\":!0,\"style\":{\"height\":i+\"px\"},\"className\":\"scroll-view\"},n.l.createElement(s.a,{\"className\":\"shop-list\"},0===l.length?n.l.createElement(h.a,{\"content\":\"暂无收藏店铺\"}):l.map(function(e){return n.l.createElement(g.a,{\"url\":\"/pages/shophome/shophome?businessId=\"+e.businessId,\"key\":e.businessId},n.l.createElement(s.a,{\"className\":\"shop-list-item\"},n.l.createElement(\"img\",{\"src\":e.logoPath}),n.l.createElement(s.a,{\"className\":\"shop-name\"},e.shopName)))}))))),n.l.createElement(s.a,{\"className\":\"cancel-favorite-wrap\",\"style\":{\"display\":p?\"block\":\"none\"}},n.l.createElement(s.a,{\"className\":\"wrap-left\"},n.l.createElement(s.a,{\"className\":\"all-select-icon\",\"onClick\":this.handleAllSelectClick},n.l.createElement(\"img\",{\"src\":o(217),\"className\":\"all-check\",\"style\":{\"display\":y?\"none\":\"block\"},\"type\":\"circle\",\"size\":\"20\"}),n.l.createElement(\"img\",{\"src\":o(218),\"style\":{\"display\":y?\"block\":\"none\"},\"className\":\"all-check-ac\"})),n.l.createElement(u.a,null,\"全选\")),n.l.createElement(s.a,{\"className\":\"cancel-text\",\"onClick\":this.handleCancelClick},\"取消收藏\")))}}]),Favorite}();t.default=b}}]);","extractedComments":[]}