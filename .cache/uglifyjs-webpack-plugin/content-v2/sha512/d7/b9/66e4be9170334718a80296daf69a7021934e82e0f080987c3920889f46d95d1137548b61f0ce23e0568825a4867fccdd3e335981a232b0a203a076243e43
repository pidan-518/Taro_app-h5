{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[91],{\"324\":function(e,t,o){},\"41\":function(e,t,o){\"use strict\";o.r(t),o.d(t,\"default\",function(){return I});var n=o(0),i=o(157),s=o(424),a=o(425),r=o(1),d=o(120),c=o(421),u=o(105),m=o(154),g=o(121),l=o(423),p=o(115),h=o(94),C=o(93),y=(o(96),o(324),function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}()),f=function get(e,t,o){null===e&&(e=Function.prototype);var n=Object.getOwnPropertyDescriptor(e,t);if(void 0===n){var i=Object.getPrototypeOf(e);return null===i?void 0:get(i,t,o)}if(\"value\"in n)return n.value;var s=n.get;return void 0!==s?s.call(o):void 0};var I=function(e){function BindWeChat(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,BindWeChat);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(BindWeChat.__proto__||Object.getPrototypeOf(BindWeChat)).call(this,e));return t.getOpenId=function(){var e=Object(i.b)(\"openId\");e?t.setState({\"openId\":e},function(){t.getWechatBindCode(e)}):Object(s.b)({\"success\":function success(e){e.code?function getWechatJsAppOpenId(e){var o=0,n={\"code\":e};Object(C.a)(h.a.getWechatJsAppOpenId,n).then(function(e){0===e.data.code&&(o=e.data.data.openId,Object(i.e)({\"key\":\"openId\",\"data\":o}),t.setState({\"openId\":o},function(){t.getWechatBindCode(o)}))})}(e.code):console.log(\"登录失败！\"+e.errMsg)}})},t.getWechatBindCode=function(){Object(C.a)(h.a.wechatUnBindCode).then(function(e){0===e.data.code&&t.setState({\"imgCodeUrl\":e.data.data.img})})},t.handleInputPhone=function(e){t.setState({\"phone\":e.target.value})},t.handleInputImgCode=function(e){t.setState({\"imgCode\":e.target.value})},t.sendUnBindSmsCode=function(e,o){var n={\"mobile\":e,\"code\":o,\"openId\":t.state.openId};Object(C.a)(h.a.sendUnBindSmsCode,n).then(function(e){0===e.data.code?t.setState({\"sendText\":\"已发送(60s)\",\"allowSendCode\":!1,\"sendTiming\":60},t.sendCodeTiming()):Object(a.d)({\"title\":e.data.msg})})},t.sendCodeTiming=function(){t.sendTiming=setInterval(function(){t.setState({\"sendTiming\":t.state.sendTiming-1,\"sendText\":\"已发送(\"+t.state.sendTiming+\"s)\"}),1===t.state.sendTiming&&(clearInterval(t.sendTiming),setTimeout(function(){t.setState({\"sendText\":\"获取验证码\",\"allowSendCode\":!0})},1e3))},1e3)},t.handleSmsCode=function(){\"\"===t.state.phone?Object(a.d)({\"title\":\"请输入手机号\",\"duration\":2e3,\"icon\":\"none\"}):\"\"===t.state.imgCode?Object(a.d)({\"title\":\"请输入图形验证码\",\"duration\":2e3,\"icon\":\"none\"}):t.sendUnBindSmsCode(t.state.phone,t.state.imgCode)},t.handleSubmit=function(e){var o=e.detail.value;if(\"\"===o.phone)return Object(a.d)({\"title\":\"请输入手机号\",\"duration\":2e3,\"icon\":\"none\"}),!1;if(\"\"===o.phoneCode)return Object(a.d)({\"title\":\"请输入手机验证码\",\"duration\":2e3,\"icon\":\"none\"}),!1;var n={\"mobile\":t.state.phone,\"smsCode\":o.phoneCode,\"openId\":t.state.openId};t.unBindWeChat(n)},t.unBindWeChat=function(e){Object(C.a)(h.a.unBindWechat,e).then(function(e){0===e.data.code?Object(a.d)({\"title\":\"解除绑定成功\",\"duration\":3e3,\"complete\":function complete(){setTimeout(function(){r.a.navigateBack({\"delta\":1})},3e3)}}):Object(a.d)({\"title\":e.data.msg,\"duration\":2e3,\"icon\":\"none\"})})},t.getPhone=function(){Object(C.a)(h.a.getUserInfo).then(function(e){0===e.data.code?t.setState({\"phone\":e.data.data.mobile}):Object(a.d)({\"title\":e.data.msg})})},t.state={\"openId\":0,\"imgCodeUrl\":\"\",\"phone\":\"\",\"imgCode\":\"\",\"phoneCode\":0,\"sendText\":\"获取验证码\",\"allowSendCode\":!0,\"sendTiming\":0},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(BindWeChat,r[\"a\"].Component),y(BindWeChat,[{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){Object(d.b)({\"title\":\"绑定微信\"}),this.getOpenId(),this.getPhone()}},{\"key\":\"render\",\"value\":function render(){var e=this.state,t=e.imgCodeUrl,o=e.sendText,i=e.allowSendCode,s=e.phone;return n.l.createElement(c.a,{\"className\":\"unBindWeChat\"},n.l.createElement(u.a,{\"className\":\"title\"},\"请填写以下验证信息\"),n.l.createElement(m.a,{\"onSubmit\":this.handleSubmit},n.l.createElement(c.a,{\"className\":\"item_list\"},n.l.createElement(c.a,{\"className\":\"item phone\"},n.l.createElement(u.a,{\"className\":\"item_desc\"},\"手机号：\"),n.l.createElement(u.a,{\"className\":\"value\",\"name\":\"phone\",\"placeholder\":\"请输入手机号\",\"onInput\":this.handleInputPhone},s)),n.l.createElement(c.a,{\"className\":\"item imgCode\"},n.l.createElement(u.a,{\"className\":\"item_desc\"},\"验证码：\"),n.l.createElement(g.a,{\"className\":\"value\",\"name\":\"imgCode\",\"placeholder\":\"请输入图形验证码\",\"onInput\":this.handleInputImgCode}),n.l.createElement(l.a,{\"src\":t,\"onClick\":this.getWechatBindCode})),n.l.createElement(c.a,{\"className\":\"item phoneCode\"},n.l.createElement(u.a,{\"className\":\"item_desc\"},\"手机验证码：\"),n.l.createElement(g.a,{\"className\":\"value \"+(!1===i?\"disable\":\"\"),\"name\":\"phoneCode\",\"placeholder\":\"请输入手机验证码\"}),n.l.createElement(p.a,{\"className\":!1===i?\"disable\":\"\",\"onClick\":this.handleSmsCode,\"disabled\":!0===i?\"\":\"disabled\"},o))),n.l.createElement(p.a,{\"formType\":\"submit\",\"className\":\"submit\"},\"解除绑定微信\")))}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){f(BindWeChat.prototype.__proto__||Object.getPrototypeOf(BindWeChat.prototype),\"componentDidShow\",this)&&f(BindWeChat.prototype.__proto__||Object.getPrototypeOf(BindWeChat.prototype),\"componentDidShow\",this).call(this)}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){f(BindWeChat.prototype.__proto__||Object.getPrototypeOf(BindWeChat.prototype),\"componentDidHide\",this)&&f(BindWeChat.prototype.__proto__||Object.getPrototypeOf(BindWeChat.prototype),\"componentDidHide\",this).call(this)}}]),BindWeChat}()},\"93\":function(e,t,o){\"use strict\";o.d(t,\"a\",function(){return CarryTokenRequest}),o.d(t,\"b\",function(){return postRequest});var n=o(420),i=o(425),s=o(1),a=o(157);function CarryTokenRequest(e,t){return new Promise(function(o,a){Object(n.a)({\"url\":e,\"method\":\"POST\",\"data\":JSON.stringify(t),\"credentials\":\"include\",\"header\":{\"Content-Type\":\"application/json\",\"JWT-Token\":window.sessionStorage.getItem(\"JWT-Token\")},\"success\":function success(e){e.statusCode>=200&&e.statusCode<300?o(e):a(e)},\"fail\":function fail(e){if(a(e),403===e.status){var t=window.location.hash.indexOf(\"?\");[\"\",\"#/pages/index/index\"].includes(window.location.hash)||\"#/pages/goodsdetails/goodsdetails\"===window.location.hash.slice(0,t)?console.log(\"进入\"):Object(i.d)({\"title\":\"暂未登录\",\"icon\":\"none\",\"duration\":1e3,\"success\":function success(){window.sessionStorage.removeItem(\"JWT-Token\"),window.sessionStorage.removeItem(\"userinfo\"),setTimeout(function(){s.a.navigateTo({\"url\":\"/pages/login/login\"})},1e3)}})}else Object(i.d)({\"title\":\"网络连接失败\",\"icon\":\"none\",\"duration\":1e3,\"success\":function success(){}})}})})}function postRequest(e,t){return new Promise(function(o,i){Object(n.a)({\"url\":e,\"method\":\"POST\",\"data\":JSON.stringify(t),\"header\":{\"Content-Type\":\"application/json; charset=utf-8\",\"JWT-Token\":Object(a.b)(\"JWT-Token\")},\"success\":function success(e){e.statusCode>=200&&e.statusCode<300?o(e):i(e)}})})}},\"94\":function(e,t,o){\"use strict\";var n;function _defineProperty(e,t,o){return t in e?Object.defineProperty(e,t,{\"value\":o,\"enumerable\":!0,\"configurable\":!0,\"writable\":!0}):e[t]=o,e}var i=\"\",s=(_defineProperty(n={\"VerCode\":(i=\"http://192.168.0.181/client-core\")+\"/register/code\",\"checkUserName\":i+\"/register/checkUserName\",\"checkMobile\":i+\"/register/checkMobile\",\"sendSmsCode\":i+\"/register/sendSmsCode\",\"doRegister\":i+\"/register/doRegister\",\"Login\":i+\"/login\",\"Logout\":i+\"/logout\",\"resetPassword\":i+\"/register/resetPassword\",\"getMyRecommondCode\":i+\"/user/getMyRecommondCode\",\"getLatestDownloadUrl\":i+\"/index/getLatestDownloadUrl\",\"wechatLogin\":i+\"/wechatLogin\",\"bindWechat\":i+\"/bindWechat\",\"wechatBindCode\":i+\"/wechatBindCode\",\"sendBindSmsCode\":i+\"/sendBindSmsCode\",\"wechatUnBindCode\":i+\"/user/wechatUnBindCode\",\"sendUnBindSmsCode\":i+\"/user/sendUnBindSmsCode\",\"unBindWechat\":i+\"/user/unBindWechat\",\"homeProducts\":i+\"/index/homeProducts\",\"homePicture\":i+\"/index/homePicture\",\"getNewItemList\":i+\"/index/getNewItemList\",\"hotSearchWord\":i+\"/index/hotSearchWord\",\"suspensionTag\":i+\"/index/suspensionTag\",\"searchItems\":i+\"/index/searchItems\",\"getCustomerServiceAccid\":i+\"/user/getCustomerServiceAccid\",\"getSencondCategory\":i+\"/index/getSencondCategory\",\"getThirdCategory\":i+\"/index/getThirdCategory\",\"getIndexCategoryImg\":i+\"/index/getIndexCategoryImg\",\"shoppingCart\":i+\"/shoppingCart/insert\",\"getCart\":i+\"/shopping/getCart\",\"gotoSettlement\":i+\"/shopping/gotoSettlement\",\"getOrderFee\":i+\"/shopping/getOrderFee\",\"deleteProduction\":i+\"/shoppingCart/delete\",\"submitOrder\":i+\"/shopping/submitOrder\",\"cancelOrder\":i+\"/shopping/cancelOrder\",\"payOrder\":i+\"/shopping/payOrder\",\"getPayOrder\":i+\"/shopping/getPayOrder\",\"getWechatJsAppOpenId\":i+\"/index/getWechatJsAppOpenId\",\"shoppingCartUpdate\":i+\"/shoppingCart/update\",\"afterSaleList\":i+\"/user/afterSale/list\",\"afterSaleUploadImage\":i+\"/user/afterSale/uploadImage\",\"afterSaleApply\":i+\"/user/afterSale/apply\",\"afterSaleDetail\":i+\"/user/afterSale/detail\",\"itemDetailList\":i+\"/item/itemDetailList\",\"regionList\":i+\"/item/regionList\",\"similarProductList\":i+\"/item/similarProductList\",\"recommendByCategory\":i+\"/item/recommendByCategory\",\"searchItemByCategoryCom\":i+\"/item/searchItemByCategoryCom\",\"itemIntroduction\":i+\"/item/itemIntroduction\",\"getCount\":i+\"/shoppingCart/getCount\",\"getShopInfoByBusinessId\":i+\"/shopIndex/getShopInfoByBusinessId\",\"getLogisticsFee\":i+\"/item/getLogisticsFee\",\"getBrandList\":i+\"/item/getBrandList\",\"itemInfoList\":i+\"/item/itemInfoList\",\"getLastShelfUpItems\":i+\"/item/getLastShelfUpItems\",\"getFestiveItemList\":i+\"/festiveItem/getFestiveItemList\",\"getCountDown\":i+\"/festiveItem/getCountDown\",\"getFirstList\":i+\"/itemCategoryCommon/getFirstList\",\"getSubCategoryList\":i+\"/itemCategoryCommon/getSubCategoryList\",\"getListByKey\":i+\"/itemCategoryCommon/getListByKey\",\"getListByTag\":i+\"/itemCategoryCommon/getListByTag\",\"getItemListByComIds\":i+\"/itemCategoryCommon/getItemListByComIds\",\"commodityEvaluate\":i+\"/orderEvaluate/commodityEvaluate\",\"orderEvaluateInsert\":i+\"/orderEvaluate/orderEvaluateInsert\",\"uploadPhoto\":i+\"/orderEvaluate/uploadPhoto\",\"selectOrderEvaluate\":i+\"/orderEvaluate/selectOrderEvaluate\",\"shopPraise\":i+\"/shop/shopPraise\",\"shopInformation\":i+\"/shop/shopInformation\",\"getShopSubCategory\":i+\"/shopIndex/getShopSubCategory\",\"searchShopByName\":i+\"/shop/searchShopByName\",\"getShopGetListByKey\":i+\"/shop/getListByKey\",\"searchShopItems\":i+\"/shop/searchShopItems\",\"getShopIndexList\":i+\"/shopIndex/getShopIndexList\",\"getSingleShopIndexList\":i+\"/shopIndex/getSingleShopIndexList\",\"getQualificationCertInfo\":i+\"/shopIndex/getQualificationCertInfo\",\"getShopInfo\":i+\"/shopIndex/getShopInfo\",\"getUserInfo\":i+\"/user/getUserInfo\",\"saveBaseInfo\":i+\"/user/saveBaseInfo\",\"myMessageList\":i+\"/user/myMessageList\",\"myMessageDetail\":i+\"/user/myMessageDetail\",\"myNotReadMessage\":i+\"/user/myNotReadMessage\",\"setMessageRead\":i+\"/message/read\",\"setMessageReadAll\":i+\"/message/readAll\",\"recommendLikeItems\":i+\"/user/recommendLikeItems\",\"recommendNewItems\":i+\"/user/recommendNewItems\",\"userCenterStatistics\":i+\"/user/userCenterStatistics\",\"uploadUserHeadImage\":i+\"/user/uploadUserHeadImage\",\"upload\":i+\"/realNameAuth/upload\",\"realNameAuthAdd\":i+\"/realNameAuth/add\",\"realNameAuthView\":i+\"/realNameAuth/view\",\"idCardCheck\":i+\"/logisticsAddress/idCardCheck\",\"userAtShopList\":i+\"/userAtShop/list\",\"userAtItemList\":i+\"/userAtItem/list\",\"userAtShopAdd\":i+\"/userAtShop/add\",\"userAtShopRemove\":i+\"/userAtShop/remove\",\"userAtItemAdd\":i+\"/userAtItem/add\",\"userAtItemRemove\":i+\"/userAtItem/remove\",\"isFavorite\":i+\"/userAtShop/isFavorite\",\"userAtItemisFavorite\":i+\"/userAtItem/isFavorite\",\"userAtItemRemoveByIds\":i+\"/userAtItem/removeByIds\",\"userAtShopRemoveByIds\":i+\"/userAtShop/removeByIds\",\"logisticsAddress\":i+\"/logisticsAddress/list\",\"saveOrUpdate\":i+\"/logisticsAddress/saveOrUpdate\",\"setDefault\":i+\"/logisticsAddress/setDefault\",\"logisticsAddressRemove\":i+\"/logisticsAddress/remove\",\"getItemOrderlList\":i+\"/user/itemOrder/list\",\"getItemOrderView\":i+\"/user/itemOrder/view\",\"orderEvaluate\":i+\"/user/itemOrder/orderEvaluate\",\"queryLogisticsTracking\":i+\"/user/itemOrder/queryLogisticsTrackingByPackag\",\"doReceived\":i+\"/user/itemOrder/doReceived\",\"gotoPayOrder\":i+\"/shopping/gotoPayOrder\",\"getOrderPackagingDetail\":i+\"/user/itemOrder/getOrderPackagingDetail\",\"logisticsInfo\":i+\"/logisticsInfo/info\",\"shopVisitSave\":i+\"/shopVisit/save\",\"getShopVisitCount\":i+\"/shopVisit/getShopVisitCount\",\"getTagList\":i+\"/activity/getSingleTagActivities\",\"getActivitiesList\":i+\"/activity/getPanicBuyingActivityList\",\"getActivityItemId\":i+\"/activity/getPanicBuyingItemById\",\"getItemListByKey\":i+\"/activity/getFoundGoodThings\",\"getItemByComIds\":i+\"/activity/getItemCategoryItemByComIds\",\"getCouponList\":i+\"/coupon/couponList\",\"getCouponIndexList\":i+\"/coupon/couponIndexList\",\"getmyCouponList\":i+\"/coupon/myCouponList\",\"saveCouponRecord\":i+\"/coupon/saveCouponRecord\",\"getmyCoupon\":i+\"/coupon/myCoupon\",\"reCalculateFee\":i+\"/shopping/reCalculateFee\",\"getUserCouponList\":i+\"/shopping/getUserCouponList\",\"getMarketingItemList\":i+\"/agentGood/getMarketingItemList\",\"agentGoodDetail\":i+\"/agentGood/detail\",\"msGotoSettlement\":i+\"/marketShopping/gotoSettlement\",\"msSubmitOrder\":i+\"/marketShopping/submitOrder\",\"msPayOrder\":i+\"/marketShopping/payOrder\",\"msGetPayOrder\":i+\"/marketShopping/getPayOrder\",\"updateRecommendCode\":i+\"/user/updateRecommendCode\",\"getShufflyList\":i+\"/index/shufflyList\",\"getSearcChoiceness\":i+\"/index/searcChoiceness\",\"getHotStyleList\":i+\"/index/hotStyleList\",\"getHotClassList\":i+\"/index/hotClassList\"},\"getItemListByComIds\",i+\"/activity/getItemCategoryItemByComIds\"),_defineProperty(n,\"getBrandCategoryList\",i+\"/activity/getBrandCategoryList\"),_defineProperty(n,\"getBrandSessionList\",i+\"/activity/getBrandSessionList\"),_defineProperty(n,\"getItemByBrandId\",i+\"/activity/getItemByBrandId\"),_defineProperty(n,\"getCurrentIndexActivities\",i+\"/activity/getCurrentIndexActivities\"),_defineProperty(n,\"getBrandByIds\",i+\"/activity/getBrandByIds\"),_defineProperty(n,\"getActivityCoupons\",i+\"/coupon/getCoupons\"),n);t.a=s},\"96\":function(e,t,o){}}]);","extractedComments":[]}