{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{\"107\":function(e,t,o){\"use strict\";var n=o(0),a=o(1),s=o(422),r=(o(111),function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}());var i=function(e){function CommonEmpty(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,CommonEmpty);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(CommonEmpty.__proto__||Object.getPrototypeOf(CommonEmpty)).call(this,e));return t.config={\"navigationBarTitleText\":\"首页\",\"usingComponents\":{}},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CommonEmpty,a[\"a\"].Component),r(CommonEmpty,[{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){return n.l.createElement(s.a,{\"className\":\"empty-box\",\"style\":{\"display\":!1!==this.props.visible?\"\":\"none\"}},n.l.createElement(\"img\",{\"src\":\"https://iconmall-developer.oss-cn-beijing.aliyuncs.com/png/small/empty-icon.png\"}),n.l.createElement(s.a,null,this.props.content))}}]),CommonEmpty}();t.a=i},\"111\":function(e,t,o){},\"133\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACL0lEQVRYR+2VP2gTURzHv7/X6yBOKmJeJIObg246CRLFQbQiDopaHQRzEZq7A4c4OCjYRQva5EppX4q4KQpOaumiOCg62EEFwUkozUUEQbBY2vR+cukdlvPaXNKkFckb3733+3ze9/05wjo3Wmc+OgKdBP7/BCrZwnFmGmSgnFTmvvCta2sClUuFXezSSwCbPTC7vCc5Zr1bKtE2gamTtzdomzQPvtcHPpXK7FmzBBzdvg/waQ9IwPturatny3Df1JoIlHW7n8BXF+H0Y0Hg6PYR41XUq9vyLXCyhQtguhvAiMWZRCn3YLknv6UC5ezgfmLh7bvf+IpU1q2V/jctE/iWs5PVOX4DIOUDh6QyjXo/u0gBRy8+9CZWQTdSyvhQr4j33dGLzwEcqI1lfiJL1rE48/4ScC7eSUN0vajVAT53u3x2a+juhguXM0VFhIzf/7EqqodTI5enmxJYXI19DeDrfoEvgrl3W8l6HVVwWi/kBeimv/IZYjqUGDO9rYjVlj0DIQkH4F6prFoyQfuaGTrhkvv4Tw+dksp4FIvsD1rxEC6VYOA7MZ2TJWPcm1vR7d0gnmSG5tfKS2UONAL3xta9BaEkfjLo/MLG+QltRpsEsLMGJBqWo0Zfo/BYAhFnYh7EE2AK3vVxqcwjzcBjC0RIBDv4aXbu18Ed9/KVtgtESMwSRDqhcm+bhTeUQACpnQnmNIQYkKO5Z6uBNyWwWmB4ft1b0GpgR6CTwD+XwG8WtrshNyjkNwAAAABJRU5ErkJggg==\"},\"187\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABlElEQVRYR+2UO1ICQRCGuwETTbiAiV5BE00gVwPxCGqg4vRQpFpbklJMj6iBeAQ1EHNNNNEraMIFSDThMdZSQC2PZR9Ckeym2/1/X/VuN8KcH5wzHyKBaALRBP41ASnlkb3GSqmbsOscWoCIdgHgoQvOMPNjGIlQArlcbqPdbr8CwEIX2ojFYqlSqfQeVCKwgJRyxRhjw5eHYDVETCmlvoNIBBKwLGuxXq/b8HUXyEcymUxZlvXrVyKQABE9AcC2R3iVmXemLiClvDXGHPgJRsSKUurQV62fIiK6AIAzP7WOmgIzn3v1eH4CIjoGgCuvIJf3J8x8Pal3ooAQIoOI9yHhnTZjzJ7WuncvRqJcBYhoEwBeHLse1qMBAGlmfhsXMFYgm82uxuNxGz6862Elaq1WK10ul7+GA0YE8vn8UrPZtHd9LSzNpe8zkUikisXij/P9iIAQooqIW1OG9/6HZ631wB0ZECCiCgDszwLuyLxj5v496QsIIQqIeDpjeG8Sl1rrzl3xvAOzFooEoglEE5j7BP4AnMlwIZrCbNwAAAAASUVORK5CYII=\"},\"188\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABn0lEQVRYR+2Uv1LCQBDGdwEbbXgBG30FbbQJvVqIj6AWKt7B0OpkpGW4PVEL8RHUQuy10UZfQRtegEYb/qxzDjD8S0IS0CbXpMjt9/2ym/0Q/vngP/tDBBB1IOpArwNCiAIiHv/FWjLzudb6xHgNjEBKWQGA3RlD3BDRXtdj5B8QQlQRcWMWEMz8qLXe7NceAcjn8wvNZvMZAFamDPGeSCSsYrH45QpgXmYymeV4PP4EAItTgqi1Wq1UuVz+GNZzXEMp5ToAGIi5kBANAEgR0cs4HdccEEKkEfE2DAAz72it75w0PINISnkIABcBIY6I6NKt1hPAFEspzwDgd299nAIRnXrdnwjAiGSz2Wtm7u2v61chVpRS+17mI0HkVSClfACAgT0eU1Mloi0vLccgciu0bXu+Xq+bjFh1uPeWTCYt27a/ZwLQGcUSMxuI4YyoIaKllPqc1Nz3CLrCuVxurd1uG4huRjRisZhVKpVe/ZgHBuhsxjYAdPc7TUT3fs1DAXTGcWCeSqmrIOahAYKa9tdNnAPTMBunEQFEHYg68APUXnAhTTxeSgAAAABJRU5ErkJggg==\"},\"306\":function(e,t,o){},\"34\":function(e,t,o){\"use strict\";o.r(t);var n=o(0),a=o(1),s=o(18),r=o(128),i=o(7),l=o(8),c=o(422),m=o(121),u=o(115),d=o(93),p=o(94),g=(o(306),o(96),o(142)),h=o(107),f=function(){function defineProperties(e,t){for(var o=0;o<t.length;o++){var n=t[o];n.enumerable=n.enumerable||!1,n.configurable=!0,\"value\"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(e,t,o){return t&&defineProperties(e.prototype,t),o&&defineProperties(e,o),e}}();function _toConsumableArray(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}var A=function(e){function categoryGoods(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,categoryGoods);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(categoryGoods.__proto__||Object.getPrototypeOf(categoryGoods)).call(this,e));return t.handleCloseMask=function(){(t.state.isSales||t.state.isPrice)&&t.setState({\"isSales\":!1,\"isPrice\":!1})},t.handleNavigateTo=function(){a.a.navigateTo({\"url\":\"/pages/searchpage/searchpage?hotText=\"+t.state.hotText})},t.handleSalesSortClick=function(){t.state.isSales?t.setState({\"isSales\":!1}):t.setState({\"isSales\":!0,\"isPrice\":!1})},t.handleSalesDropClick=function(){t.setState({\"isSalesDrop\":!0,\"isSalesRise\":!1,\"isPriceDrop\":!1,\"isPriceRise\":!1,\"saleOrder\":\"desc\",\"priceOrder\":\"\",\"isNewest\":!1,\"updateOrder\":\"\"},function(){t.getItemListByComIds()})},t.handleSalesRiseClick=function(){t.setState({\"isSalesDrop\":!1,\"isSalesRise\":!0,\"isPriceDrop\":!1,\"isPriceRise\":!1,\"saleOrder\":\"asc\",\"priceOrder\":\"\",\"isNewest\":!1,\"updateOrder\":\"\"},function(){t.getItemListByComIds()})},t.handlePriceSortClick=function(){t.state.isPrice?t.setState({\"isPrice\":!1}):t.setState({\"isPrice\":!0,\"isSales\":!1})},t.handlePriceDropClick=function(){t.setState({\"isPriceDrop\":!0,\"isPriceRise\":!1,\"isSalesDrop\":!1,\"isSalesRise\":!1,\"saleOrder\":\"\",\"priceOrder\":\"desc\",\"isNewest\":!1,\"updateOrder\":\"\"},function(){t.getItemListByComIds()})},t.handlePriceRiseClick=function(){t.setState({\"isPriceDrop\":!1,\"isPriceRise\":!0,\"isSalesDrop\":!1,\"isSalesRise\":!1,\"saleOrder\":\"\",\"priceOrder\":\"asc\",\"isNewest\":!1,\"updateOrder\":\"\"},function(){t.getItemListByComIds()})},t.handleRecentlyAddedClick=function(){t.setState({\"isSalesDrop\":!1,\"isSalesRise\":!1,\"isPriceDrop\":!1,\"isPriceRise\":!1,\"isSales\":!1,\"isPrice\":!1,\"priceOrder\":\"\",\"saleOrder\":\"\"}),t.state.isNewest?t.setState({\"isNewest\":!1,\"updateOrder\":\"\"},function(){t.getItemListByComIds()}):t.setState({\"isNewest\":!0,\"updateOrder\":\"DESC\"},function(){t.getItemListByComIds()})},t.config={\"onReachBottomDistance\":50},t.state={\"topFliter\":\"\",\"bannerImage\":\"\",\"riseIcon\":o(187),\"dropIcon\":o(188),\"isSales\":!1,\"isPrice\":!1,\"maskHeight\":\"\",\"isSalesDrop\":!1,\"isSalesRise\":!1,\"isPriceDrop\":!1,\"isPriceRise\":!1,\"isNewest\":!1,\"saleOrder\":\"\",\"priceOrder\":\"\",\"updateOrder\":\"\",\"goodsList\":[],\"goodsCurrent\":\"\",\"goodsPages\":\"\",\"hotText\":\"\"},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(categoryGoods,a[\"a\"].Component),f(categoryGoods,[{\"key\":\"onReachBottom\",\"value\":function onReachBottom(){var e=this;this.state.goodsCurrent!==this.state.goodsPages&&Object(d.b)(p.a.getItemListByComIds,{\"comIds\":[this.$router.params.id],\"current\":this.state.goodsCurrent+1,\"len\":10,\"source\":40,\"saleOrder\":this.state.saleOrder,\"priceOrder\":this.state.priceOrder,\"updatePrder\":\"\"}).then(function(t){console.log(\"获取商品成功\",t.data),0===t.data.code&&e.setState({\"goodsCurrent\":t.data.data.current,\"goodsPages\":t.data.data.pages,\"goodsList\":[].concat(_toConsumableArray(e.state.goodsList),_toConsumableArray(t.data.data.records))})}).catch(function(e){console.log(\"获取商品失败\",e)})}},{\"key\":\"getItemListByComIds\",\"value\":function getItemListByComIds(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;Object(d.b)(p.a.getItemListByComIds,{\"comIds\":[this.$router.params.comIds],\"current\":t,\"len\":10,\"source\":40,\"saleOrder\":this.state.saleOrder,\"priceOrder\":this.state.priceOrder,\"updateOrder\":this.state.updateOrder}).then(function(t){console.log(\"获取商品成功\",t.data),0===t.data.code&&e.setState({\"goodsCurrent\":t.data.data.current,\"goodsPages\":t.data.data.pages,\"goodsList\":t.data.data.records})}).catch(function(e){console.log(\"获取商品失败\",e)})}},{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){var e=this;Object(s.a)({}).then(function(t){e.setState({\"maskHeight\":t.windowHeight-77})})}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getItemListByComIds()}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){var e=this;Object(r.a)().select(\".category-goods-head\").boundingClientRect(function(t){console.log(t.height/2),e.setState({\"topFliter\":t.height/2})}).exec(),this.setState({\"bannerImage\":this.$router.params.banner,\"hotText\":decodeURI(this.$router.params.hotText)}),this._offReachBottom=Object(i.a)({\"callback\":this.onReachBottom,\"ctx\":this,\"onReachBottomDistance\":50}),this._offPageScroll=Object(l.a)({\"callback\":this.onPageScroll,\"ctx\":this})}},{\"key\":\"onPageScroll\",\"value\":function onPageScroll(e){this.setState({\"isSales\":!1,\"isPrice\":!1})}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){this._offReachBottom&&this._offReachBottom(),this._offPageScroll&&this._offPageScroll()}},{\"key\":\"render\",\"value\":function render(){var e=this.state,t=(e.topFliter,e.bannerImage),a=e.riseIcon,s=e.dropIcon,r=e.goodsList,i=e.maskHeight,l=e.isSales,d=e.isPrice,p=e.isSalesDrop,f=e.isSalesRise,A=e.isPriceDrop,y=e.isPriceRise,C=e.isNewest,E=e.hotText;return n.l.createElement(c.a,{\"id\":\"category-goods\",\"onClick\":this.handleCloseMask},n.l.createElement(c.a,{\"className\":\"category-goods-head\",\"onClick\":this.handleNavigateTo},n.l.createElement(m.a,{\"className\":\"search-input\",\"disabled\":!0,\"placeholder\":E||\"\"}),n.l.createElement(u.a,{\"className\":\"search-btn\"},\"搜索\")),t?n.l.createElement(c.a,{\"className\":\"category-banner\"},n.l.createElement(\"img\",{\"className\":\"banner-img\",\"src\":t})):null,n.l.createElement(c.a,{\"className\":\"filter-row\"},n.l.createElement(c.a,{\"className\":\"filter-item-box\"},n.l.createElement(c.a,{\"className\":\"filter-item\",\"onClick\":this.handleSalesSortClick},n.l.createElement(c.a,null,\"销量排序\"),n.l.createElement(\"img\",{\"src\":l?a:s})),n.l.createElement(c.a,{\"className\":\"mask\",\"style\":{\"display\":l?\"block\":\"none\",\"height\":i+\"px\"}},n.l.createElement(c.a,{\"className\":\"item-select\"},n.l.createElement(c.a,{\"className\":\"select-text\",\"onClick\":this.handleSalesDropClick},n.l.createElement(c.a,{\"style\":{\"color\":p?\"#ff5d8c\":null}},\"销量降序\"),n.l.createElement(\"img\",{\"className\":\"select-icon\",\"src\":p?o(133):null})),n.l.createElement(c.a,{\"className\":\"select-text\",\"onClick\":this.handleSalesRiseClick},n.l.createElement(c.a,{\"style\":{\"color\":f?\"#ff5d8c\":null}},\"销量升序\"),n.l.createElement(\"img\",{\"className\":\"select-icon\",\"src\":f?o(133):null}))))),n.l.createElement(c.a,{\"className\":\"filter-item-box\"},n.l.createElement(c.a,{\"className\":\"filter-item\",\"onClick\":this.handlePriceSortClick},n.l.createElement(c.a,null,\"价格排序\"),n.l.createElement(\"img\",{\"src\":d?a:s})),n.l.createElement(c.a,{\"className\":\"mask\",\"style\":{\"display\":d?\"block\":\"none\",\"height\":i+\"px\"}},n.l.createElement(c.a,{\"className\":\"item-select\"},n.l.createElement(c.a,{\"className\":\"select-text\",\"onClick\":this.handlePriceDropClick},n.l.createElement(c.a,{\"style\":{\"color\":A?\"#ff5d8c\":null}},\"价格降序\"),n.l.createElement(\"img\",{\"className\":\"select-icon\",\"src\":A?o(133):null})),n.l.createElement(c.a,{\"className\":\"select-text\",\"onClick\":this.handlePriceRiseClick},n.l.createElement(c.a,{\"style\":{\"color\":y?\"#ff5d8c\":null}},\"价格升序\"),n.l.createElement(\"img\",{\"className\":\"select-icon\",\"src\":y?o(133):null}))))),n.l.createElement(c.a,{\"className\":\"filter-item-box\"},n.l.createElement(c.a,{\"className\":\"filter-item\",\"onClick\":this.handleRecentlyAddedClick},n.l.createElement(c.a,{\"style\":{\"color\":C?\"#ff5d8c\":null}},\"最近上新\")))),0===r.length?n.l.createElement(h.a,{\"content\":\"暂无商品\"}):n.l.createElement(c.a,{\"className\":\"goods-content\"},n.l.createElement(g.a,{\"hasTitle\":!0,\"goodsList\":r})))}}]),categoryGoods}();t.default=A}}]);","extractedComments":[]}