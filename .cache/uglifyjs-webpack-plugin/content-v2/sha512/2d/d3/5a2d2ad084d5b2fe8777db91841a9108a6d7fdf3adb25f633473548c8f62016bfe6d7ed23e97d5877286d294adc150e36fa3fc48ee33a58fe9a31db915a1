{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{\"108\":function(e,t,n){\"use strict\";var o=n(93),a=n(94);t.a={\"updateRecommendCode\":function updateRecommendCode(e){if(e){var t=e,n=Date.now(),r={\"recommend\":t,\"recommendTime\":n};Object(o.a)(a.a.updateRecommendCode,r),window.sessionStorage.setItem(\"registerRecommend\",t),window.sessionStorage.setItem(\"recommendTime\",n)}},\"transWebp\":function transWebp(e){return-1!==e.indexOf(\".webp\")?e+\"?x-oss-process=image/format,png\":e},\"mutiLink\":function mutiLink(e){var t,o,a=\"\",r=e.lastIndexOf(\"/\"),i=e.indexOf(\"?\");if(t=-1!==endIndex?e.substring(r+1,i):e.substring(r+1),a=e.substring(i),o=n(112).parse(a.substring(1)),e.match(\"https://\")||e.match(\"http://\"))e.match(\"/#/pagesapp/\")?Taro.navigateTo({\"url\":\"/pages/\"+t+\"/\"+t+a}):e.match(\"/#/pagesAapp/\")?Taro.navigateTo({\"url\":\"/pagesA/\"+t+\"/\"+t+a}):Taro.navigateTo({\"url\":\"/pages/WebView/WebView?link=\"+e});else if(e.match(\"iconmall://\"))switch(t){case\"goodsdetail\":Taro.navigateTo({\"url\":\"/pages/goodsdetail/goodsdetail?itemId=\"+o.id});break;case\"shophome\":Taro.navigateTo({\"url\":\"/pages/shophome/shophome?businessId=\"+o.id});break;case\"coupon\":Taro.navigateTo({\"url\":\"/pages/certificate/certificate\"});break;case\"searchresult\":Taro.navigateTo({\"url\":\"/pages/searchpage/searchpage?hotText=\"+o.key})}},\"getDate\":function getDate(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),a=e.getHours(),r=e.getMinutes();return t+\"-\"+(n=n<10?\"0\"+n:n)+\"-\"+(o=o<10?\"0\"+o:o)+\" \"+(a=a<10?\"0\"+a:a)+\":\"+(r=r<10?\"0\"+r:r)}}},\"135\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADrUlEQVRYR9WXT4gcRRTGv68Hhl3BQwQVgwGNovg3GTzEQCRRFAkYcxD3ogmKsCKIuKiZejMDjpd+BYkZvCwaDSKaFcwpKkaE4PoXBEUUFIIkBDXJISBu8LLLTj+poUd6J9M9szsrIX3rrq56v/6qvvdeExf54kWOj0sHwDl3HYCHSN5M8hozu5zkGQBnzeyoqn61EjUHKiAiIeikme0oCkDyeJIk70dRdCCO47PDwuQCOOfWAHiT5CPpYmdI/mBm35I8lSTJ3wCCKjeRvBvA5sx7++M4fnUYiL4AzrkKya8BXAbgT5JhwVa9Xl+XJEnFzK4CMOe9P9wNIiKbSU6Z2aPhGcmP4jh+eBDEBQDOuW0kP08nzprZkwDWkNwNYLeZfUfypJl9kQXoBnLOvUyyGe7NbK/3fk/h1mUHa7Xa1UFiAOsB/KKqtzvnngWwL4qil8rl8qFms/nXoK/KfoSZNb33r+TNWaKAiLwIYG8ITvKBJEm2kPzAzK733p8aFDg7LiLPA2gBODE3N7dxenr6n37zewF+AnAnyV2Li4uzpVLpDwBbVPWb5QTPnIuwldvM7Bnv/euFAI1G4752u30MwKequt05Fw7TrUXyDYISkXAIjwA4pqr3FwKISJAryCaq6kXkSlU9NyhI0fjU1NT42NhYsGuZ5Np++eG/LRCR7wHcZWb3AtgK4Jz3fnoUgDBXRDrbAGCHqn7cu14W4DSAteHARVG0z8yOqOq7owLUarW3zewJM3vae3+gCMDCoKoy9fJhVf11VIBuXsizY18Flmu5Ikjn3Cckt4ck1k/RvmfAez876pdnrPg7gHV5ds4CLHHBagA4524k+VtaG4pd0JsHVgNARJ4D8FpRYerNhB0rhkwYx/F7o0A0Go1b2u32ZwCuzbNgR5lsEOfcJMk3urVgOY1FL6yIvAXgKQA/q+qGoYpRmji+BHBPtxquRIWQxkMRS+fmpuELFAgPnHPrSZ5IJ3f6gZXYslarbTSzH9N1PlTVnYW1oGcr+nZEeWo0m83ywsLC42a2S1VDKu9c9Xp9Z+gTAYwDmFHVx3IzYe/AoJ7QzM6b2W0k70hzffB6uGazENVq9cFSqTRjZleEHlNVJ7OxVq0rDmfGzN6Zn58/2Gq1lnRNIrLVzGZCRQSwX1Vf6EIMBOi+2Oe/YNzMjgM4GbrkSqVydGJiop23TSKyCcAhADdk68LQACtxQ++carW6IYqig6HjjuM49B6X0K/ZaigwtA3/r2D91v0XR2m7MDJpCDQAAAAASUVORK5CYII=\"},\"139\":function(e,t,n){\"use strict\";n.d(t,\"a\",function(){return u});var o=n(0),a=n(169),r=n(425),i=n(1),c=n(421),s=n(115),l=(n(96),n(140),function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}());var u=function(e){function AgentShare(e){!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,AgentShare);var t=function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}(this,(AgentShare.__proto__||Object.getPrototypeOf(AgentShare)).call(this,e));return t.checkAgent=function(){var e=JSON.parse(window.sessionStorage.getItem(\"userinfo\"))||{};t.setState({\"userType\":e.userType})},t.handleAgentShare=function(){var e=window.location.href,t=window.sessionStorage.getItem(\"shareRecommend\"),n=\"\";n=e.indexOf(\"page\")>0?e.indexOf(\"?\")>0?e+\"&shareRecommend=\"+t:e+\"?shareRecommend=\"+t:e.indexOf(\"?\")>0?e+\"#/pages/index/index&shareRecommend=\"+t:e+\"#/pages/index/index?shareRecommend=\"+t,Object(a.a)({\"data\":n,\"success\":function success(){Object(r.d)({\"title\":\"链接已成功复制到剪贴板\"})}})},t.state={\"userType\":1},t}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(AgentShare,i[\"a\"].Component),l(AgentShare,[{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.checkAgent()}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){}},{\"key\":\"render\",\"value\":function render(){var e=this.state.userType;return o.l.createElement(c.a,{\"className\":\"agentShare\",\"style\":{\"display\":6===e?\"\":\"none\"}},o.l.createElement(s.a,{\"className\":\"agentShare_btn\",\"onClick\":this.handleAgentShare},\"代理\",o.l.createElement(\"br\",null),\"分享\"))}}]),AgentShare}()},\"140\":function(e,t,n){},\"197\":function(e,t){e.exports=\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAACQElEQVRYR8WXv2sUQRTH33fYK60UK63Ef8AItuvtmwUP1MRYBiEidsYIlooR7SwiSSWCmiKNwbM8duYdXmnUP0AktSBCKgu54kYG9mSwyP48b7tlZ+fzeW/eG2ZAc34wZz6VEmDmLQB3nHMbIvK4TelCAWaOAXyYQp1z90TkeVsShQIepLX+SEQXAombIvK6DYlSAmmaLjjn3hPR6UBiWUT6TSVKCeRZSLwEgGM59PdkMrk8HA6liURpAQ9h5msA3gXAH0qpK1mWfaorUUkgl1gF8CoAfgNw1RjztY5EZYFcYh3AZgD8TESL1trvVSVqCeQSjwBsTIEAZDweL41Go19VJGoLeEiappvOufUA2LfWLv83gbw7fD2sBtA31trw/UifRhnwM8dxHHU6nbdEtBSQtqy1d8tkorGAhyRJclwp5SW6wUb1VEQeFkm0IuAh3W73jJcAcG4KjaLo5GAw+HmUxEwFlFJnsyw7mLlAHMcnoijy0V8M2nLFGLM78yXwRRhF0R6AxQC+ZozZLoL7742XgJl3ANwIiq/SoaWRwPSkFMC3RWStTOR/s1VlcDiWmZ8AeBDAd0Vkpep8tTLAzPcBPAtgA2ttryq8Vg1orW8R0csAtq+U6mVZdjhzgTRNrzvn9gLQgVLqUlGvt7IPJEnCAPrBkewQQM8Ys18n8kpFqLU+T0T+UHoq6HUPHzSBl64BrfUXIlqousuVkSvsgn8vJgBK73KtCPhJmPkFgNtzuZqViaLJmMIlaDJ5mX//AEPlwSGyFWTaAAAAAElFTkSuQmCC\"},\"376\":function(e,t,n){},\"56\":function(e,t,n){\"use strict\";n.r(t);var o=n(0),a=n(1),r=n(156),i=n(7),c=n(421),s=n(121),l=n(105),u=(n(376),n(96),n(94)),m=n(93),p=n(150),h=n(108),f=n(139),g=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}();function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}var d=function(e){function CateGory(){var e,t,n;!function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}(this,CateGory);for(var o=arguments.length,i=Array(o),c=0;c<o;c++)i[c]=arguments[c];return t=n=_possibleConstructorReturn(this,(e=CateGory.__proto__||Object.getPrototypeOf(CateGory)).call.apply(e,[this].concat(i))),n.state={\"bannerList\":[],\"hotText\":\"\",\"hotArr\":[]},n.handleSearchInputClick=function(){a.a.navigateTo({\"url\":\"/pages/searchpage/searchpage?hotText=\"+(encodeURI(n.state.hotText)||\"\")})},n.handleBannerClick=function(e,t){var o=n.state.bannerList;o.map(function(t,n){return n===e?t.isShow?t.isShow=!1:t.isShow=!0:t.isShow=!1,t}),n.setState({\"bannerList\":o},function(){Object(r.a)({\"scrollTop\":t.currentTarget.offsetTop,\"duration\":200})})},n.handleCategoryClick=function(e){a.a.navigateTo({\"url\":\"/pages/categoryGoods/categoryGoods?comIds=\"+e.id+\"&banner=\"+(e.image?e.image:\"\")+\"&hotText=\"+(encodeURI(n.state.hotText)||\"\")})},n.getHotSearchWord=function(){Object(m.b)(u.a.hotSearchWord,{\"len\":30,\"current\":1}).then(function(e){if(console.log(\"获取热搜词成功\",e.data),200===e.statusCode){var t=[];e.data.records.forEach(function(e){t.push(e.title)}),n.setState({\"hotArr\":t,\"hotText\":t[Math.floor(Math.random()*t.length)]})}}).catch(function(e){console.log(\"返回数据失败\",e)})},n.config={\"onReachBottomDistance\":50,\"navigationBarTitleText\":\"分类\",\"usingComponents\":{}},_possibleConstructorReturn(n,t)}return function _inherits(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{\"constructor\":{\"value\":e,\"enumerable\":!1,\"writable\":!0,\"configurable\":!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(CateGory,a[\"a\"].Component),g(CateGory,[{\"key\":\"getListByTag\",\"value\":function getListByTag(){var e=this;Object(m.b)(u.a.getListByTag,{\"tag\":\"category_search\",\"source\":40}).then(function(t){console.log(\"获取分类页列表成功\",t.data),0===t.data.code?e.setState({\"bannerList\":t.data.data.map(function(e){return e.isShow=!1,e})}):e.setState({\"bannerList\":[]})}).catch(function(e){console.log(\"获取分类页列表失败\",e)})}},{\"key\":\"onReachBottom\",\"value\":function onReachBottom(){}},{\"key\":\"componentWillMount\",\"value\":function componentWillMount(){}},{\"key\":\"componentDidMount\",\"value\":function componentDidMount(){this.getListByTag(),this.getHotSearchWord()}},{\"key\":\"componentDidUpdate\",\"value\":function componentDidUpdate(){}},{\"key\":\"componentWillUnmount\",\"value\":function componentWillUnmount(){}},{\"key\":\"componentDidShow\",\"value\":function componentDidShow(){var e=this.state.hotArr;this.setState({\"hotText\":e[Math.floor(Math.random()*e.length)]}),h.a.updateRecommendCode(this.$router.params.shareRecommend),this._offReachBottom=Object(i.a)({\"callback\":this.onReachBottom,\"ctx\":this,\"onReachBottomDistance\":50})}},{\"key\":\"componentDidHide\",\"value\":function componentDidHide(){this._offReachBottom&&this._offReachBottom()}},{\"key\":\"render\",\"value\":function render(){var e=this,t=this.state,a=(t.IconList,t.goodsList,t.bannerList),r=t.hotText;return o.l.createElement(c.a,null,o.l.createElement(c.a,{\"id\":\"category-head\"},o.l.createElement(f.a,null),o.l.createElement(c.a,{\"className\":\"nav-input\",\"onClick\":this.handleSearchInputClick},o.l.createElement(\"img\",{\"src\":n(135)}),o.l.createElement(s.a,{\"disabled\":!0,\"type\":\"text\",\"placeholder\":r||\"\"}))),o.l.createElement(c.a,{\"id\":\"banner-wrap\"},o.l.createElement(c.a,{\"className\":\"banner-list\"},a.map(function(t,a){var r=t.categoryCommonList;return o.l.createElement(c.a,{\"className\":\"banner-list-item-box\",\"key\":a},o.l.createElement(c.a,{\"className\":\"banner-list-item\",\"style\":{\"backgroundImage\":\"url(\"+t.categoryComShow.image+\")\"},\"onClick\":e.handleBannerClick.bind(e,a),\"data-id\":t.id}),o.l.createElement(c.a,{\"className\":\"level-category-list\",\"style\":{\"display\":t.isShow?\"block\":\"none\"}},r.map(function(t){return o.l.createElement(c.a,{\"className\":\"list-item\",\"onClick\":e.handleCategoryClick.bind(e,t),\"key\":t.id},o.l.createElement(l.a,{\"className\":\"item-label\"},t.name),o.l.createElement(\"img\",{\"className\":\"item-icon\",\"src\":n(197)}))})))}))),o.l.createElement(p.a,null))}}]),CateGory}();t.default=d}}]);","extractedComments":[]}